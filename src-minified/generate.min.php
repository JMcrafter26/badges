<?php $label='Documentation:';$message='go.jm26.net/badge-docs';$labelColor='#555555';$messageColor='#97CA00';$roundedCorner=5;if(isset($_GET['label'])){$label=$_GET['label'];}if(isset($_GET['message'])){$message=$_GET['message'];}$color_brightgreen='#44cc11';$color_green='#97CA00';$color_yellowgreen='#a4a61d';$color_yellow='#dfb317';$color_orange='#fe7d37';$color_red='#e05d44';$color_lightgrey='#9f9f9f';$color_blue='#007ec6';$color_violet='#7b16ff';$color_grey='#555555';$color_silver='#9f9f9f';$color_success='#44cc11';$color_important='#fe7d37';$color_critical='#e05d44';$color_informational='#007ec6';$color_inactive='#9f9f9f';if(isset($_GET['color'])&&$_GET['color']!=''){if(preg_match('/^#[a-f0-9]{6}$/i',$_GET['color'])){$messageColor=$_GET['color'];}else{$messageColor=${'color_'.$_GET['color']};if($messageColor==''){$messageColor='#44cc11';}}}$font='./DejaVuSans.ttf';$fontColor='#ffffff';$bbox=imagettfbbox(9,0,$font,$label);$labelWidth=$bbox[2]-$bbox[0];$labelWidth+=5;$bbox=imagettfbbox(9,0,$font,$message);$messageWidth=$bbox[2]-$bbox[0];$imWidth=$labelWidth+$messageWidth+15;$imHeight=20;$im=imagecreatetruecolor($imWidth,$imHeight);$labelColorackground=imagecolorallocate($im,255,255,255);$colorText=imagecolorallocate($im,hexdec(substr($fontColor,1,2)),hexdec(substr($fontColor,3,2)),hexdec(substr($fontColor,5,2)));$messageColor=imagecolorallocate($im,hexdec(substr($messageColor,1,2)),hexdec(substr($messageColor,3,2)),hexdec(substr($messageColor,5,2)));$labelColor=imagecolorallocate($im,hexdec(substr($labelColor,1,2)),hexdec(substr($labelColor,3,2)),hexdec(substr($labelColor,5,2)));imagefilledrectangle($im,0,0,$imWidth,$imHeight,$messageColor);imagefilledrectangle($im,0,0,$labelWidth+5,$imHeight,$labelColor);$bbox=imagettfbbox(9,0,$font,$label);$textWidth=$bbox[2]-$bbox[0];imagettftext($im,9,0,5,14,$colorText,$font,$label);$bbox=imagettfbbox(9,0,$font,$message);$textWidth=$bbox[2]-$bbox[0];imagettftext($im,9,0,$labelWidth+10,14,$colorText,$font,$message);header('Content-Type: image/png');imagepng($im);imagedestroy($im);$statistics=true;if($statistics){$statisticsUrl='https://test.jm26.net/api/badge/statistics.php?exp='.md5('statistics'.date('h-i-d-m-Y'));$statistics=file_get_contents($statisticsUrl);}
